{"ast":null,"code":"import _regeneratorRuntime from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{useParams,Link,useHistory}from\"react-router-dom\";import Card from\"@material-ui/core/Card\";import CardActionArea from\"@material-ui/core/CardActionArea\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import CardMedia from\"@material-ui/core/CardMedia\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import ArrowBack from\"@material-ui/icons/ArrowBack\";import AddIcon from\"@material-ui/icons/Add\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Slide from\"@material-ui/core/Slide\";import Edit from\"@material-ui/icons/Edit\";import Delete from\"@material-ui/icons/Delete\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Transition=/*#__PURE__*/React.forwardRef(function Transition(props,ref){return/*#__PURE__*/_jsx(Slide,_objectSpread({direction:\"up\",ref:ref},props));});var useStyles=makeStyles({root:{maxWidth:600,margin:\"auto\"},media:{height:140}});function UserView(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUsers=_useState2[1];var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),confirmDeleteId=_useState6[0],setConfirmdDeleteId=_useState6[1];var deleteUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setOpen(false);_context.next=3;return axios.delete(\"http://my-json-server.typicode.com/dhavalmakwana1998/crud/users\".concat(id));case 3:res=_context.sent;setConfirmdDeleteId(null);history.push(\"/\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function deleteUser(_x){return _ref.apply(this,arguments);};}();var openConfirm=function openConfirm(deleteId){setConfirmdDeleteId(deleteId);setOpen(true);};useEffect(function(){var loadUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://my-json-server.typicode.com/dhavalmakwana1998/crud/users/\".concat(id));case 2:res=_context2.sent;_context2.t0=setUsers;_context2.next=6;return res.json();case 6:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function loadUser(){return _ref2.apply(this,arguments);};}();loadUser();},[]);var classes=useStyles();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(Dialog,{open:open,TransitionComponent:Transition,keepMounted:true,onClose:function onClose(){setOpen(false);},\"aria-labelledby\":\"alert-dialog-slide-title\",\"aria-describedby\":\"alert-dialog-slide-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{style:{color:\"red\"},id:\"alert-dialog-slide-title\",children:\"Are you sure you want to delete this record?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"secondary\",id:\"alert-dialog-slide-description\",children:\"Record will be deleted permanet..!\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setOpen(false);},color:\"primary\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){deleteUser(confirmDeleteId);},color:\"secondary\",children:\"Agree\"})]})]}),/*#__PURE__*/_jsxs(Card,{className:classes.root,children:[/*#__PURE__*/_jsxs(CardActionArea,{children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:\"https://picsum.photos/seed/picsum/700/500\",title:\"Contemplative Reptile\"}),user&&/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\",children:[user.name,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),\" \",user.username]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"h6\",color:\"error\",children:[user.email,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),\" \",user.website,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),user.phone]}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"body1\",children:user.city}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\",children:user.bio})]})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsx(Link,{to:\"/user\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",startIcon:/*#__PURE__*/_jsx(ArrowBack,{}),children:\"Back\"})}),/*#__PURE__*/_jsx(Link,{to:\"/user/add\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Add\"})}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"contained\",startIcon:/*#__PURE__*/_jsx(Edit,{}),style:{background:\"#ff9800\"},children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{style:{marginLeft:\"auto\"},size:\"small\",variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/_jsx(Delete,{}),onClick:function onClick(){return openConfirm(user.id);},children:\"Delete\"})]})]})]})});}export default UserView;","map":{"version":3,"sources":["E:/React Practical/crud/src/component/UserView.jsx"],"names":["React","useState","useEffect","makeStyles","useParams","Link","useHistory","Card","CardActionArea","CardActions","CardContent","CardMedia","Button","Typography","ArrowBack","AddIcon","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","Edit","Delete","axios","Transition","forwardRef","props","ref","useStyles","root","maxWidth","margin","media","height","UserView","user","setUsers","id","history","open","setOpen","confirmDeleteId","setConfirmdDeleteId","deleteUser","delete","res","push","openConfirm","deleteId","loadUser","get","json","classes","color","name","username","email","website","phone","city","bio","background","marginLeft"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,UAA1B,KAA4C,kBAA5C,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,8BAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,yBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,UAAU,cAAGzB,KAAK,CAAC0B,UAAN,CAAiB,QAASD,CAAAA,UAAT,CAAoBE,KAApB,CAA2BC,GAA3B,CAAgC,CAClE,mBAAO,KAAC,KAAD,gBAAO,SAAS,CAAC,IAAjB,CAAsB,GAAG,CAAEA,GAA3B,EAAoCD,KAApC,EAAP,CACD,CAFkB,CAAnB,CAGA,GAAME,CAAAA,SAAS,CAAG1B,UAAU,CAAC,CAC3B2B,IAAI,CAAE,CACJC,QAAQ,CAAE,GADN,CAEJC,MAAM,CAAE,MAFJ,CADqB,CAK3BC,KAAK,CAAE,CACLC,MAAM,CAAE,GADH,CALoB,CAAD,CAA5B,CAUA,QAASC,CAAAA,QAAT,EAAoB,CAClB,cAAyBlC,QAAQ,EAAjC,wCAAOmC,IAAP,eAAaC,QAAb,eACA,eAAejC,SAAS,EAAxB,CAAQkC,EAAR,YAAQA,EAAR,CACA,GAAMC,CAAAA,OAAO,CAAGjC,UAAU,EAA1B,CACA,eAAwBL,QAAQ,CAAC,KAAD,CAAhC,yCAAOuC,IAAP,eAAaC,OAAb,eACA,eAA+CxC,QAAQ,CAAC,IAAD,CAAvD,yCAAOyC,eAAP,eAAwBC,mBAAxB,eAEA,GAAMC,CAAAA,UAAU,0FAAG,iBAAON,EAAP,0HACjBG,OAAO,CAAC,KAAD,CAAP,CADiB,sBAECjB,CAAAA,KAAK,CAACqB,MAAN,0EACkDP,EADlD,EAFD,QAEXQ,GAFW,eAKjBH,mBAAmB,CAAC,IAAD,CAAnB,CACAJ,OAAO,CAACQ,IAAR,CAAa,GAAb,EANiB,sDAAH,kBAAVH,CAAAA,UAAU,4CAAhB,CASA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,QAAD,CAAc,CAChCN,mBAAmB,CAACM,QAAD,CAAnB,CACAR,OAAO,CAAC,IAAD,CAAP,CACD,CAHD,CAKAvC,SAAS,CAAC,UAAM,CACd,GAAMgD,CAAAA,QAAQ,2FAAG,uKACG1B,CAAAA,KAAK,CAAC2B,GAAN,2EACmDb,EADnD,EADH,QACTQ,GADS,6BAIfT,QAJe,wBAIAS,CAAAA,GAAG,CAACM,IAAJ,EAJA,2HAAH,kBAARF,CAAAA,QAAQ,2CAAd,CAMAA,QAAQ,GACT,CARQ,CAQN,EARM,CAAT,CAUA,GAAMG,CAAAA,OAAO,CAAGxB,SAAS,EAAzB,CACA,mBACE,sCACE,aAAK,SAAS,CAAC,WAAf,wBACE,MAAC,MAAD,EACE,IAAI,CAAEW,IADR,CAEE,mBAAmB,CAAEf,UAFvB,CAGE,WAAW,KAHb,CAIE,OAAO,CAAE,kBAAM,CACbgB,OAAO,CAAC,KAAD,CAAP,CACD,CANH,CAOE,kBAAgB,0BAPlB,CAQE,mBAAiB,gCARnB,wBAUE,KAAC,WAAD,EAAa,KAAK,CAAE,CAAEa,KAAK,CAAE,KAAT,CAApB,CAAsC,EAAE,CAAC,0BAAzC,UACG,8CADH,EAVF,cAaE,KAAC,aAAD,wBACE,KAAC,iBAAD,EACE,KAAK,CAAC,WADR,CAEE,EAAE,CAAC,gCAFL,gDADF,EAbF,cAqBE,MAAC,aAAD,yBACE,KAAC,MAAD,EACE,OAAO,CAAE,kBAAM,CACbb,OAAO,CAAC,KAAD,CAAP,CACD,CAHH,CAIE,KAAK,CAAC,SAJR,sBADF,cASE,KAAC,MAAD,EACE,OAAO,CAAE,kBAAM,CACbG,UAAU,CAACF,eAAD,CAAV,CACD,CAHH,CAIE,KAAK,CAAC,WAJR,mBATF,GArBF,GADF,cAyCE,MAAC,IAAD,EAAM,SAAS,CAAEW,OAAO,CAACvB,IAAzB,wBACE,MAAC,cAAD,yBACE,KAAC,SAAD,EACE,SAAS,CAAEuB,OAAO,CAACpB,KADrB,CAEE,KAAK,CAAC,2CAFR,CAGE,KAAK,CAAC,uBAHR,EADF,CAMGG,IAAI,eACH,MAAC,WAAD,yBACE,MAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,CAAsC,SAAS,CAAC,IAAhD,WACGA,IAAI,CAACmB,IADR,kBACc,gCADd,KAC8BnB,IAAI,CAACoB,QADnC,GADF,cAIE,MAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,CAAsC,KAAK,CAAC,OAA5C,WACGpB,IAAI,CAACqB,KADR,kBACe,gCADf,KAC+BrB,IAAI,CAACsB,OADpC,kBAC6C,gCAD7C,CAEGtB,IAAI,CAACuB,KAFR,GAJF,cAQE,KAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,OAAjC,UACGvB,IAAI,CAACwB,IADR,EARF,cAWE,KAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,eAAlC,CAAkD,SAAS,CAAC,GAA5D,UACGxB,IAAI,CAACyB,GADR,EAXF,GAPJ,GADF,cAyBE,MAAC,WAAD,yBACE,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,uBACE,KAAC,MAAD,EACE,IAAI,CAAC,OADP,CAEE,OAAO,CAAC,WAFV,CAGE,SAAS,cAAE,KAAC,SAAD,IAHb,kBADF,EADF,cAUE,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,uBACE,KAAC,MAAD,EACE,IAAI,CAAC,OADP,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,SAHR,CAIE,SAAS,cAAE,KAAC,OAAD,IAJb,iBADF,EAVF,cAoBE,KAAC,MAAD,EACE,IAAI,CAAC,OADP,CAEE,OAAO,CAAC,WAFV,CAGE,SAAS,cAAE,KAAC,IAAD,IAHb,CAIE,KAAK,CAAE,CAAEC,UAAU,CAAE,SAAd,CAJT,kBApBF,cA4BE,KAAC,MAAD,EACE,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAd,CADT,CAEE,IAAI,CAAC,OAFP,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,WAJR,CAKE,SAAS,cAAE,KAAC,MAAD,IALb,CAME,OAAO,CAAE,yBAAMf,CAAAA,WAAW,CAACZ,IAAI,CAACE,EAAN,CAAjB,EANX,oBA5BF,GAzBF,GAzCF,GADF,EADF,CA+GD,CAED,cAAeH,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useParams, Link, useHistory } from \"react-router-dom\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ArrowBack from \"@material-ui/icons/ArrowBack\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport Delete from \"@material-ui/icons/Delete\";\r\nimport axios from \"axios\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 600,\r\n    margin: \"auto\",\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nfunction UserView() {\r\n  const [user, setUsers] = useState();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [open, setOpen] = useState(false);\r\n  const [confirmDeleteId, setConfirmdDeleteId] = useState(null);\r\n\r\n  const deleteUser = async (id) => {\r\n    setOpen(false);\r\n    const res = await axios.delete(\r\n      `http://my-json-server.typicode.com/dhavalmakwana1998/crud/users${id}`\r\n    );\r\n    setConfirmdDeleteId(null);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const openConfirm = (deleteId) => {\r\n    setConfirmdDeleteId(deleteId);\r\n    setOpen(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const loadUser = async () => {\r\n      const res = await axios.get(\r\n        `http://my-json-server.typicode.com/dhavalmakwana1998/crud/users/${id}`\r\n      );\r\n      setUsers(await res.json());\r\n    };\r\n    loadUser();\r\n  }, []);\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <Dialog\r\n          open={open}\r\n          TransitionComponent={Transition}\r\n          keepMounted\r\n          onClose={() => {\r\n            setOpen(false);\r\n          }}\r\n          aria-labelledby=\"alert-dialog-slide-title\"\r\n          aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n          <DialogTitle style={{ color: \"red\" }} id=\"alert-dialog-slide-title\">\r\n            {\"Are you sure you want to delete this record?\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText\r\n              color=\"secondary\"\r\n              id=\"alert-dialog-slide-description\"\r\n            >\r\n              Record will be deleted permanet..!\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={() => {\r\n                setOpen(false);\r\n              }}\r\n              color=\"primary\"\r\n            >\r\n              Disagree\r\n            </Button>\r\n            <Button\r\n              onClick={() => {\r\n                deleteUser(confirmDeleteId);\r\n              }}\r\n              color=\"secondary\"\r\n            >\r\n              Agree\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        <Card className={classes.root}>\r\n          <CardActionArea>\r\n            <CardMedia\r\n              className={classes.media}\r\n              image=\"https://picsum.photos/seed/picsum/700/500\"\r\n              title=\"Contemplative Reptile\"\r\n            />\r\n            {user && (\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {user.name} <span>•</span> {user.username}\r\n                </Typography>\r\n                <Typography gutterBottom variant=\"h6\" color=\"error\">\r\n                  {user.email} <span>•</span> {user.website} <span>•</span>\r\n                  {user.phone}\r\n                </Typography>\r\n                <Typography gutterBottom variant=\"body1\">\r\n                  {user.city}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  {user.bio}\r\n                </Typography>\r\n              </CardContent>\r\n            )}\r\n          </CardActionArea>\r\n          <CardActions>\r\n            <Link to=\"/user\">\r\n              <Button\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                startIcon={<ArrowBack />}\r\n              >\r\n                Back\r\n              </Button>\r\n            </Link>\r\n            <Link to=\"/user/add\">\r\n              <Button\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<AddIcon />}\r\n              >\r\n                Add\r\n              </Button>\r\n            </Link>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              startIcon={<Edit />}\r\n              style={{ background: \"#ff9800\" }}\r\n            >\r\n              Edit\r\n            </Button>\r\n            <Button\r\n              style={{ marginLeft: \"auto\" }}\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              startIcon={<Delete />}\r\n              onClick={() => openConfirm(user.id)}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </CardActions>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserView;\r\n"]},"metadata":{},"sourceType":"module"}