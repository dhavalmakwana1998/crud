{"ast":null,"code":"import _regeneratorRuntime from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";import{withStyles,makeStyles}from\"@material-ui/core/styles\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import Paper from\"@material-ui/core/Paper\";import{TablePagination,TextField,Box,InputAdornment,IconButton}from\"@material-ui/core\";import ClearIcon from\"@material-ui/icons/Clear\";import Edit from\"@material-ui/icons/Edit\";import Delete from\"@material-ui/icons/Delete\";import VisibilityIcon from\"@material-ui/icons/Visibility\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var StyledTableCell=withStyles(function(theme){return{head:{backgroundColor:theme.palette.primary.dark,color:theme.palette.common.white},body:{fontSize:14}};})(TableCell);var useStyles=makeStyles({table:{minWidth:700}});function User(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(5),_useState8=_slicedToArray(_useState7,2),rowsPerPage=_useState8[0],setRowsPerPage=_useState8[1];var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/userdb\");case 2:res=_context.sent;_context.t0=setUsers;_context.next=6;return res.json();case 6:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 8:case\"end\":return _context.stop();}}},_callee);}));return function loadUser(){return _ref.apply(this,arguments);};}();var handleChangePage=function handleChangePage(event,page){setPage(page);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(event.target.value);setPage(0);};useEffect(function(){loadUser();},[]);// function handleSearch(e) {\n//   setSearchText(e.target.value);\n//   const filtered = users.filter((row) => {\n//     return row.name.includes(searchText);\n//   });\n//   setUsers(filtered);\n// }\nvar classes=useStyles();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,stickyHeader:true,\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{align:\"center\",children:\"#ID\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Full Name\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"City\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Zipcode\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Action\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[!users?/*#__PURE__*/_jsx(\"h5\",{children:\"no records found\"}):users.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:row.id}),/*#__PURE__*/_jsxs(TableCell,{children:[row.name,\" \",row.surname]}),/*#__PURE__*/_jsx(TableCell,{children:row.email}),/*#__PURE__*/_jsx(TableCell,{children:row.address.city}),/*#__PURE__*/_jsx(TableCell,{children:row.address.zipcode}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(VisibilityIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Edit,{style:{color:\"#ff9800\"}})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Delete,{color:\"secondary\"})})]})]},row.id);}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[3,5,7,10,15,20],count:users.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]})]})})});}export default User;","map":{"version":3,"sources":["E:/React Practical/crud/src/User.jsx"],"names":["useState","useEffect","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TablePagination","TextField","Box","InputAdornment","IconButton","ClearIcon","Edit","Delete","VisibilityIcon","StyledTableCell","theme","head","backgroundColor","palette","primary","dark","color","common","white","body","fontSize","useStyles","table","minWidth","User","users","setUsers","searchText","setSearchText","page","setPage","rowsPerPage","setRowsPerPage","loadUser","fetch","res","json","handleChangePage","event","handleChangeRowsPerPage","target","value","classes","slice","map","row","id","name","surname","email","address","city","zipcode","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {\r\n  TablePagination,\r\n  TextField,\r\n  Box,\r\n  InputAdornment,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport Delete from \"@material-ui/icons/Delete\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n    color: theme.palette.common.white,\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n  },\r\n}))(TableCell);\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n});\r\n\r\nfunction User() {\r\n  const [users, setUsers] = useState([]);\r\n  const [searchText, setSearchText] = useState([]);\r\n\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(5);\r\n\r\n  const loadUser = async () => {\r\n    const res = await fetch(\"http://localhost:3001/userdb\");\r\n    setUsers(await res.json());\r\n  };\r\n\r\n  const handleChangePage = (event, page) => {\r\n    setPage(page);\r\n  };\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUser();\r\n  }, []);\r\n\r\n  // function handleSearch(e) {\r\n  //   setSearchText(e.target.value);\r\n  //   const filtered = users.filter((row) => {\r\n  //     return row.name.includes(searchText);\r\n  //   });\r\n  //   setUsers(filtered);\r\n  // }\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      {/* <Box marginBottom={2} align=\"right\">\r\n        <TextField\r\n          size=\"small\"\r\n          onChange={handleSearch}\r\n          label=\"Search by name\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          value={searchText}\r\n          endAdornment={\r\n            <InputAdornment position=\"end\">\r\n              <IconButton onClick={() => loadUser}>\r\n                <ClearIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          }\r\n        />\r\n      </Box> */}\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <StyledTableCell align=\"center\">#ID</StyledTableCell>\r\n              <StyledTableCell>Full Name</StyledTableCell>\r\n              <StyledTableCell>Email</StyledTableCell>\r\n              <StyledTableCell>City</StyledTableCell>\r\n              <StyledTableCell>Zipcode</StyledTableCell>\r\n              <StyledTableCell>Action</StyledTableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {!users ? (\r\n              <h5>no records found</h5>\r\n            ) : (\r\n              users\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row) => (\r\n                  <TableRow key={row.id}>\r\n                    <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                      {row.id}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {row.name} {row.surname}\r\n                    </TableCell>\r\n                    <TableCell>{row.email}</TableCell>\r\n                    <TableCell>{row.address.city}</TableCell>\r\n                    <TableCell>{row.address.zipcode}</TableCell>\r\n                    <TableCell>\r\n                      <IconButton>\r\n                        <VisibilityIcon color=\"primary\" />\r\n                      </IconButton>\r\n                      <IconButton>\r\n                        <Edit style={{ color: \"#ff9800\" }} />\r\n                      </IconButton>\r\n                      <IconButton>\r\n                        <Delete color=\"secondary\" />\r\n                      </IconButton>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n            )}\r\n            <TablePagination\r\n              rowsPerPageOptions={[3, 5, 7, 10, 15, 20]}\r\n              count={users.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              onPageChange={handleChangePage}\r\n              onRowsPerPageChange={handleChangeRowsPerPage}\r\n            />\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default User;\r\n"]},"metadata":{},"sourceType":"module"}