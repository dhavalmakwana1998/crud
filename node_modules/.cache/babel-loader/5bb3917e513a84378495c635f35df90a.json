{"ast":null,"code":"import _regeneratorRuntime from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{withStyles,makeStyles}from\"@material-ui/core/styles\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import Paper from\"@material-ui/core/Paper\";import SkeletonTable from\"../skeleton/SkeletonTable\";import{TablePagination,Box,IconButton,Button,Typography,Grid}from\"@material-ui/core\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Slide from\"@material-ui/core/Slide\";import Edit from\"@material-ui/icons/Edit\";import Delete from\"@material-ui/icons/Delete\";import VisibilityIcon from\"@material-ui/icons/Visibility\";import AddIcon from\"@material-ui/icons/Add\";import axios from\"axios\";import packageJson from\"../../package.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Transition=/*#__PURE__*/React.forwardRef(function Transition(props,ref){return/*#__PURE__*/_jsx(Slide,_objectSpread({direction:\"up\",ref:ref},props));});var StyledTableCell=withStyles(function(theme){return{head:{backgroundColor:theme.palette.primary.dark,color:theme.palette.common.white},body:{fontSize:14}};})(TableCell);var useStyles=makeStyles({table:{minWidth:700}});function User(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),confirmDeleteId=_useState6[0],setConfirmdDeleteId=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var _useState9=useState(3),_useState10=_slicedToArray(_useState9,2),rowsPerPage=_useState10[0],setRowsPerPage=_useState10[1];var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(packageJson.apiUrl);case 2:res=_context.sent;user=res.data.reverse();setTimeout(function(){setUsers(user);},2000);case 5:case\"end\":return _context.stop();}}},_callee);}));return function loadUser(){return _ref.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setOpen(false);_context2.next=3;return axios.delete(packageJson.apiUrl+id);case 3:res=_context2.sent;setConfirmdDeleteId(null);setUsers([]);loadUser();case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();var openConfirm=function openConfirm(deleteId){setConfirmdDeleteId(deleteId);setOpen(true);};var handleChangePage=function handleChangePage(event,page){setPage(page);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(event.target.value);setPage(0);};useEffect(function(){loadUser();},[]);var classes=useStyles();return/*#__PURE__*/_jsx(_Fragment,{children:users.length?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{marginBottom:\"6px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Users\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Box,{align:\"right\",children:/*#__PURE__*/_jsx(Link,{to:\"/user/add\",children:/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Add User\"})})})})]}),/*#__PURE__*/_jsxs(Dialog,{open:open,TransitionComponent:Transition,keepMounted:true,onClose:function onClose(){setOpen(false);},\"aria-labelledby\":\"alert-dialog-slide-title\",\"aria-describedby\":\"alert-dialog-slide-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{style:{color:\"red\"},id:\"alert-dialog-slide-title\",children:\"Are you sure you want to delete this record?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"secondary\",id:\"alert-dialog-slide-description\",children:\"Record will be deleted permanet..!\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setOpen(false);},color:\"primary\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){deleteUser(confirmDeleteId);},color:\"secondary\",children:\"Agree\"})]})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,stickyHeader:true,\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{align:\"center\",children:\"#ID\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Full Name\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Userame\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"City\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Zipcode\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Action\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[!users.length?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{rowSpan:7,children:\"No records found\"})}):users.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row,ind){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:ind+1}),/*#__PURE__*/_jsx(TableCell,{children:row.name}),/*#__PURE__*/_jsx(TableCell,{children:row.username}),/*#__PURE__*/_jsx(TableCell,{children:row.email}),/*#__PURE__*/_jsx(TableCell,{children:row.city}),/*#__PURE__*/_jsx(TableCell,{children:row.phone}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(row.id),children:/*#__PURE__*/_jsx(VisibilityIcon,{color:\"primary\"})})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Link,{to:\"/user/edit/\".concat(row.id),children:/*#__PURE__*/_jsx(Edit,{style:{color:\"#ff9800\"}})})}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return openConfirm(row.id);},children:/*#__PURE__*/_jsx(Delete,{color:\"secondary\"})})]})]},ind+1);}),!users.length?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[3,5,7,10,15,20],count:users.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})})]})]})})]})}):/*#__PURE__*/_jsx(SkeletonTable,{})});}export default User;","map":{"version":3,"sources":["E:/React Practical/crud/src/component/User.jsx"],"names":["React","useState","useEffect","Link","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","SkeletonTable","TablePagination","Box","IconButton","Button","Typography","Grid","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","Edit","Delete","VisibilityIcon","AddIcon","axios","packageJson","Transition","forwardRef","props","ref","StyledTableCell","theme","head","backgroundColor","palette","primary","dark","color","common","white","body","fontSize","useStyles","table","minWidth","User","users","setUsers","open","setOpen","confirmDeleteId","setConfirmdDeleteId","page","setPage","rowsPerPage","setRowsPerPage","loadUser","get","apiUrl","res","user","data","reverse","setTimeout","deleteUser","id","delete","openConfirm","deleteId","handleChangePage","event","handleChangeRowsPerPage","target","value","classes","length","marginBottom","slice","map","row","ind","name","username","email","city","phone"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport SkeletonTable from \"../skeleton/SkeletonTable\";\r\nimport {\r\n  TablePagination,\r\n  Box,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport Delete from \"@material-ui/icons/Delete\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport axios from \"axios\";\r\nimport packageJson from \"../../package.json\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\nconst StyledTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n    color: theme.palette.common.white,\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n  },\r\n}))(TableCell);\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n});\r\n\r\nfunction User() {\r\n  const [users, setUsers] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const [confirmDeleteId, setConfirmdDeleteId] = useState(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(3);\r\n\r\n  const loadUser = async () => {\r\n    const res = await axios.get(packageJson.apiUrl);\r\n    const user = res.data.reverse();\r\n    setTimeout(() => {\r\n      setUsers(user);\r\n    }, 2000);\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    setOpen(false);\r\n    const res = await axios.delete(packageJson.apiUrl + id);\r\n    setConfirmdDeleteId(null);\r\n    setUsers([]);\r\n    loadUser();\r\n  };\r\n\r\n  const openConfirm = (deleteId) => {\r\n    setConfirmdDeleteId(deleteId);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleChangePage = (event, page) => {\r\n    setPage(page);\r\n  };\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUser();\r\n  }, []);\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      {users.length ? (\r\n        <>\r\n          <Grid container>\r\n            <Grid container spacing={3} style={{ marginBottom: \"6px\" }}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Typography variant=\"h4\">Users</Typography>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <Box align=\"right\">\r\n                  <Link to=\"/user/add\">\r\n                    <Button\r\n                      color=\"secondary\"\r\n                      variant=\"contained\"\r\n                      startIcon={<AddIcon />}\r\n                    >\r\n                      Add User\r\n                    </Button>\r\n                  </Link>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n            <Dialog\r\n              open={open}\r\n              TransitionComponent={Transition}\r\n              keepMounted\r\n              onClose={() => {\r\n                setOpen(false);\r\n              }}\r\n              aria-labelledby=\"alert-dialog-slide-title\"\r\n              aria-describedby=\"alert-dialog-slide-description\"\r\n            >\r\n              <DialogTitle\r\n                style={{ color: \"red\" }}\r\n                id=\"alert-dialog-slide-title\"\r\n              >\r\n                {\"Are you sure you want to delete this record?\"}\r\n              </DialogTitle>\r\n              <DialogContent>\r\n                <DialogContentText\r\n                  color=\"secondary\"\r\n                  id=\"alert-dialog-slide-description\"\r\n                >\r\n                  Record will be deleted permanet..!\r\n                </DialogContentText>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={() => {\r\n                    setOpen(false);\r\n                  }}\r\n                  color=\"primary\"\r\n                >\r\n                  Disagree\r\n                </Button>\r\n                <Button\r\n                  onClick={() => {\r\n                    deleteUser(confirmDeleteId);\r\n                  }}\r\n                  color=\"secondary\"\r\n                >\r\n                  Agree\r\n                </Button>\r\n              </DialogActions>\r\n            </Dialog>\r\n            {/* <Box marginBottom={2} align=\"right\">\r\n        <TextField\r\n          size=\"small\"\r\n          onChange={handleSearch}\r\n          label=\"Search by name\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          value={searchText}\r\n          endAdornment={\r\n            <InputAdornment position=\"end\">\r\n              <IconButton onClick={() => loadUser}>\r\n                <ClearIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          }\r\n        />\r\n      </Box> */}\r\n            <TableContainer component={Paper}>\r\n              <Table\r\n                className={classes.table}\r\n                stickyHeader\r\n                aria-label=\"sticky table\"\r\n              >\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <StyledTableCell align=\"center\">#ID</StyledTableCell>\r\n                    <StyledTableCell>Full Name</StyledTableCell>\r\n                    <StyledTableCell>Userame</StyledTableCell>\r\n                    <StyledTableCell>Email</StyledTableCell>\r\n                    <StyledTableCell>City</StyledTableCell>\r\n                    <StyledTableCell>Zipcode</StyledTableCell>\r\n                    <StyledTableCell>Action</StyledTableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {!users.length ? (\r\n                    <TableRow>\r\n                      <TableCell rowSpan={7}>No records found</TableCell>\r\n                    </TableRow>\r\n                  ) : (\r\n                    users\r\n                      .slice(\r\n                        page * rowsPerPage,\r\n                        page * rowsPerPage + rowsPerPage\r\n                      )\r\n                      .map((row, ind) => (\r\n                        <TableRow key={ind + 1}>\r\n                          <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                            {ind + 1}\r\n                          </TableCell>\r\n                          <TableCell>{row.name}</TableCell>\r\n                          <TableCell>{row.username}</TableCell>\r\n                          <TableCell>{row.email}</TableCell>\r\n                          <TableCell>{row.city}</TableCell>\r\n                          <TableCell>{row.phone}</TableCell>\r\n                          <TableCell>\r\n                            <IconButton>\r\n                              <Link to={`/user/${row.id}`}>\r\n                                <VisibilityIcon color=\"primary\" />\r\n                              </Link>\r\n                            </IconButton>\r\n                            <IconButton>\r\n                              <Link to={`/user/edit/${row.id}`}>\r\n                                <Edit style={{ color: \"#ff9800\" }} />\r\n                              </Link>\r\n                            </IconButton>\r\n                            <IconButton onClick={() => openConfirm(row.id)}>\r\n                              <Delete color=\"secondary\" />\r\n                            </IconButton>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))\r\n                  )}\r\n                  {!users.length ? (\r\n                    <></>\r\n                  ) : (\r\n                    <TableRow>\r\n                      <TablePagination\r\n                        rowsPerPageOptions={[3, 5, 7, 10, 15, 20]}\r\n                        count={users.length}\r\n                        rowsPerPage={rowsPerPage}\r\n                        page={page}\r\n                        onPageChange={handleChangePage}\r\n                        onRowsPerPageChange={handleChangeRowsPerPage}\r\n                      />\r\n                    </TableRow>\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          </Grid>\r\n        </>\r\n      ) : (\r\n        <SkeletonTable />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default User;\r\n"]},"metadata":{},"sourceType":"module"}