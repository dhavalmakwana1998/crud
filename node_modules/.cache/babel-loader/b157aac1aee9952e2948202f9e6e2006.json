{"ast":null,"code":"import _regeneratorRuntime from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"E:/React Practical/crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{withStyles,makeStyles}from\"@material-ui/core/styles\";import Table from\"@material-ui/core/Table\";import TableBody from\"@material-ui/core/TableBody\";import TableCell from\"@material-ui/core/TableCell\";import TableContainer from\"@material-ui/core/TableContainer\";import TableHead from\"@material-ui/core/TableHead\";import TableRow from\"@material-ui/core/TableRow\";import Paper from\"@material-ui/core/Paper\";import{TablePagination,Box,IconButton,Button,Typography,Grid}from\"@material-ui/core\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Slide from\"@material-ui/core/Slide\";import Edit from\"@material-ui/icons/Edit\";import Delete from\"@material-ui/icons/Delete\";import VisibilityIcon from\"@material-ui/icons/Visibility\";import AddIcon from\"@material-ui/icons/Add\";import Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Transition=/*#__PURE__*/React.forwardRef(function Transition(props,ref){return/*#__PURE__*/_jsx(Slide,_objectSpread({direction:\"up\",ref:ref},props));});var StyledTableCell=withStyles(function(theme){return{head:{backgroundColor:theme.palette.primary.dark,color:theme.palette.common.white},body:{fontSize:14}};})(TableCell);var useStyles=makeStyles({table:{minWidth:700}});function User(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),confirmDeleteId=_useState6[0],setConfirmdDeleteId=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var _useState9=useState(3),_useState10=_slicedToArray(_useState9,2),rowsPerPage=_useState10[0],setRowsPerPage=_useState10[1];var loadUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:3001/users\");case 2:res=_context.sent;_context.next=5;return res.json();case 5:users=_context.sent;setUsers(users.reverse());case 7:case\"end\":return _context.stop();}}},_callee);}));return function loadUser(){return _ref.apply(this,arguments);};}();var deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setOpen(false);_context3.next=3;return fetch(\"http://localhost:3001/users/\".concat(id),{method:\"delete\"}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(res);setConfirmdDeleteId(null);loadUser();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}());case 3:res=_context3.sent;case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();var openConfirm=function openConfirm(deleteId){setConfirmdDeleteId(deleteId);setOpen(true);};var handleChangePage=function handleChangePage(event,page){setPage(page);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(event.target.value);setPage(0);};useEffect(function(){loadUser();},[]);// function handleSearch(e) {\n//   setSearchText(e.target.value);\n//   const filtered = users.filter((row) => {\n//     return row.name.includes(searchText);\n//   });\n//   setUsers(filtered);\n// }\nvar classes=useStyles();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,style:{marginBottom:\"6px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Users\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Box,{align:\"right\",children:/*#__PURE__*/_jsx(Link,{to:\"/user/add\",children:/*#__PURE__*/_jsx(Button,{color:\"secondary\",variant:\"contained\",startIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Add User\"})})})})]}),/*#__PURE__*/_jsxs(Dialog,{open:open,TransitionComponent:Transition,keepMounted:true,onClose:function onClose(){setOpen(false);},\"aria-labelledby\":\"alert-dialog-slide-title\",\"aria-describedby\":\"alert-dialog-slide-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{style:{color:\"red\"},id:\"alert-dialog-slide-title\",children:\"Are you sure you want to delete this record?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{color:\"secondary\",id:\"alert-dialog-slide-description\",children:\"Record will be deleted permanet..!\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setOpen(false);},color:\"primary\",children:\"Disagree\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){deleteUser(confirmDeleteId);},color:\"secondary\",children:\"Agree\"})]})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,stickyHeader:true,\"aria-label\":\"sticky table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{align:\"center\",children:\"#ID\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Full Name\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Userame\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"City\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Zipcode\"}),/*#__PURE__*/_jsx(StyledTableCell,{children:\"Action\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[!users?/*#__PURE__*/_jsx(\"h5\",{children:\"no records found\"}):users.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage).map(function(row,ind){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",component:\"th\",scope:\"row\",children:ind+1}),/*#__PURE__*/_jsx(TableCell,{children:row.name}),/*#__PURE__*/_jsx(TableCell,{children:row.username}),/*#__PURE__*/_jsx(TableCell,{children:row.email}),/*#__PURE__*/_jsx(TableCell,{children:row.city}),/*#__PURE__*/_jsx(TableCell,{children:row.zipcode}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Link,{to:\"/user/\".concat(row.id),children:/*#__PURE__*/_jsx(VisibilityIcon,{color:\"primary\"})})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(Edit,{style:{color:\"#ff9800\"}})}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return openConfirm(row.id);},children:/*#__PURE__*/_jsx(Delete,{color:\"secondary\"})})]})]},ind+1);}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[3,5,7,10,15,20],count:users.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]})]})})]});}export default User;","map":{"version":3,"sources":["E:/React Practical/crud/src/component/User.jsx"],"names":["React","useState","useEffect","Link","withStyles","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TablePagination","Box","IconButton","Button","Typography","Grid","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","Edit","Delete","VisibilityIcon","AddIcon","Axios","Transition","forwardRef","props","ref","StyledTableCell","theme","head","backgroundColor","palette","primary","dark","color","common","white","body","fontSize","useStyles","table","minWidth","User","users","setUsers","open","setOpen","confirmDeleteId","setConfirmdDeleteId","page","setPage","rowsPerPage","setRowsPerPage","loadUser","fetch","res","json","reverse","deleteUser","id","method","then","console","log","openConfirm","deleteId","handleChangePage","event","handleChangeRowsPerPage","target","value","classes","marginBottom","slice","map","row","ind","name","username","email","city","zipcode","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {\r\n  TablePagination,\r\n  Box,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Grid,\r\n} from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport Delete from \"@material-ui/icons/Delete\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Axios from \"axios\";\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\nconst StyledTableCell = withStyles((theme) => ({\r\n  head: {\r\n    backgroundColor: theme.palette.primary.dark,\r\n    color: theme.palette.common.white,\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n  },\r\n}))(TableCell);\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 700,\r\n  },\r\n});\r\n\r\nfunction User() {\r\n  const [users, setUsers] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const [confirmDeleteId, setConfirmdDeleteId] = useState(null);\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(3);\r\n\r\n  const loadUser = async () => {\r\n    const res = await fetch(\"http://localhost:3001/users\");\r\n    const users = await res.json();\r\n    setUsers(users.reverse());\r\n  };\r\n\r\n  const deleteUser = async (id) => {\r\n    setOpen(false);\r\n    const res = await fetch(`http://localhost:3001/users/${id}`, {\r\n      method: \"delete\",\r\n    }).then(async (res) => {\r\n      console.log(res);\r\n      setConfirmdDeleteId(null);\r\n      loadUser();\r\n    });\r\n  };\r\n\r\n  const openConfirm = (deleteId) => {\r\n    setConfirmdDeleteId(deleteId);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleChangePage = (event, page) => {\r\n    setPage(page);\r\n  };\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUser();\r\n  }, []);\r\n\r\n  // function handleSearch(e) {\r\n  //   setSearchText(e.target.value);\r\n  //   const filtered = users.filter((row) => {\r\n  //     return row.name.includes(searchText);\r\n  //   });\r\n  //   setUsers(filtered);\r\n  // }\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      <Grid container spacing={3} style={{ marginBottom: \"6px\" }}>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography variant=\"h4\">Users</Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Box align=\"right\">\r\n            <Link to=\"/user/add\">\r\n              <Button\r\n                color=\"secondary\"\r\n                variant=\"contained\"\r\n                startIcon={<AddIcon />}\r\n              >\r\n                Add User\r\n              </Button>\r\n            </Link>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n      <Dialog\r\n        open={open}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => {\r\n          setOpen(false);\r\n        }}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle style={{ color: \"red\" }} id=\"alert-dialog-slide-title\">\r\n          {\"Are you sure you want to delete this record?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText\r\n            color=\"secondary\"\r\n            id=\"alert-dialog-slide-description\"\r\n          >\r\n            Record will be deleted permanet..!\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n            color=\"primary\"\r\n          >\r\n            Disagree\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              deleteUser(confirmDeleteId);\r\n            }}\r\n            color=\"secondary\"\r\n          >\r\n            Agree\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      {/* <Box marginBottom={2} align=\"right\">\r\n        <TextField\r\n          size=\"small\"\r\n          onChange={handleSearch}\r\n          label=\"Search by name\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          value={searchText}\r\n          endAdornment={\r\n            <InputAdornment position=\"end\">\r\n              <IconButton onClick={() => loadUser}>\r\n                <ClearIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          }\r\n        />\r\n      </Box> */}\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <StyledTableCell align=\"center\">#ID</StyledTableCell>\r\n              <StyledTableCell>Full Name</StyledTableCell>\r\n              <StyledTableCell>Userame</StyledTableCell>\r\n              <StyledTableCell>Email</StyledTableCell>\r\n              <StyledTableCell>City</StyledTableCell>\r\n              <StyledTableCell>Zipcode</StyledTableCell>\r\n              <StyledTableCell>Action</StyledTableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {!users ? (\r\n              <h5>no records found</h5>\r\n            ) : (\r\n              users\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, ind) => (\r\n                  <TableRow key={ind + 1}>\r\n                    <TableCell align=\"center\" component=\"th\" scope=\"row\">\r\n                      {ind + 1}\r\n                    </TableCell>\r\n                    <TableCell>{row.name}</TableCell>\r\n                    <TableCell>{row.username}</TableCell>\r\n                    <TableCell>{row.email}</TableCell>\r\n                    <TableCell>{row.city}</TableCell>\r\n                    <TableCell>{row.zipcode}</TableCell>\r\n                    <TableCell>\r\n                      <IconButton>\r\n                        <Link to={`/user/${row.id}`}>\r\n                          <VisibilityIcon color=\"primary\" />\r\n                        </Link>\r\n                      </IconButton>\r\n                      <IconButton>\r\n                        <Edit style={{ color: \"#ff9800\" }} />\r\n                      </IconButton>\r\n                      <IconButton onClick={() => openConfirm(row.id)}>\r\n                        <Delete color=\"secondary\" />\r\n                      </IconButton>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n            )}\r\n            <TablePagination\r\n              rowsPerPageOptions={[3, 5, 7, 10, 15, 20]}\r\n              count={users.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              onPageChange={handleChangePage}\r\n              onRowsPerPageChange={handleChangeRowsPerPage}\r\n            />\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default User;\r\n"]},"metadata":{},"sourceType":"module"}